<!DOCTYPE html>
<html>
  <head>
    <base target="_top">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>.:: Body Power - Inventario Diario ::.</title>
    <link rel="stylesheet" href="form-css.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;400&display=swap" rel="stylesheet" />    
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <style>
      <?!= include("form-css"); ?>
    </style>
  </head>
  <body>
    <div id="loading">
      <div class="lds-ring">
        <div></div>
        <div></div>
        <div></div>
        <div></div>
      </div>
    </div>
    <main class="container text-center">      
      <h1>Body Power</h1>
      <h2>Inventario Diario</h2>
      <form class="needs-validation" novalidate >

        <div class="row">
          <div class="col">
            <div class="mb-3">
              <label class="form-label" for="record-date">Fecha</label>
              <input class="form-control" id="record-date" type="date" required>
              <div class="invalid-feedback">
                Fecha requerida.
              </div>              
            </div>            
          </div>
          <div class="col">
            <div class="form-check">
              <input class="form-check-input" id="keep-date" type="checkbox">
              <label class="form-check-label" for="keep-date">Mantener</label>
            </div>
          </div>          
        </div>
        <div class="row">
          <div class="col">
            <label class="form-label" for="user-list">Encargado</label>
            <div class="mb-3">
              <input id="user-list" class="form-select" type="search" list="user-list-options"  placeholder="Seleccionar..." required>
              <datalist id="user-list-options">
              </datalist>          
              <div class="invalid-feedback">
                Encargado requerido.
              </div>
            </div>
          </div>
          <div class="col">
            <div class="form-check">
              <input class="form-check-input" id="keep-user-list" type="checkbox">
              <label class="form-check-label" for="keep-user-list">Mantener</label>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col">
            <label class="form-label" for="item-list">Producto</label>
            <input id="item-list" type="search" list="item-list-options" class="form-select" placeholder="Escribe para buscar..." required>
            <datalist id="item-list-options">              
            </datalist>
            <div class="invalid-feedback">
              Producto requerido.
            </div>
            <div class="valid-feedback">
              Looks good!
            </div>
          </div>
        </div>
        <div class="row">
          <label class="form-label" for="current-stock">Stock actual</label>
          <input class="form-control" id="current-stock" type="text" disabled>
        </div>

        <!-- Tabs menu -->
        <ul class="nav nav-tabs record-form-tabs" id="myTab" role="tablist">
          <li class="nav-item" role="presentation">
            <button class="nav-link active" id="new-stock-tab" data-bs-toggle="tab" data-bs-target="#new-stock-tab-pane" type="button" role="tab" aria-controls="new-stock-tab-pane" aria-selected="true">Nuevo stock</button>
          </li>
          <li class="nav-item" role="presentation">
            <button class="nav-link" id="input-tab" data-bs-toggle="tab" data-bs-target="#input-tab-pane" type="button" role="tab" aria-controls="input-tab-pane" aria-selected="false">Entrada</button>
          </li>
          <li class="nav-item" role="presentation">
            <button class="nav-link" id="output-tab" data-bs-toggle="tab" data-bs-target="#output-tab-pane" type="button" role="tab" aria-controls="output-tab-pane" aria-selected="false">Salida</button>
          </li>          
        </ul>
        <!-- Tabs panel  -->
        <div class="tab-content record-form--content" id="myTabContent">
          <div class="tab-pane fade show active" id="new-stock-tab-pane" role="tabpanel" aria-labelledby="home-tab" tabindex="0">
            <div class="record-form--fields">            
              <ul>
                  <li>
                      <label class="common--label" for="new-quantity">Nuevo stock:</label>
                      <input class="form-control" id="new-quantity" type="number" disabled required>
                      <div class="invalid-feedback">
                        Por favor ingrese un nuevo stock.
                      </div>
                  </li>
                  <li>
                      <label class="common--label" for="final-stock-new">Diferencia:</label>
                      <input class="common--input" id="final-stock-new" type="number" disabled>                      
                  </li>
                  <div id="new-stock-input-fields" class="list--input hidden">
                      <h4>Entrada</h4>
                      <ul>
                          <li>
                              <label class="common--label" for="new-stock-invoice"># Factura</label>
                              <input class="common--input" id="new-stock-invoice" type="text">
                          </li>
                          <li>
                              <label class="common--label" for="new-stock-amount">Valor entrada</label>
                              <input class="common--input" id="new-stock-amount" type="number" required>
                              <div class="invalid-feedback">
                                Por favor ingrese un valor de entrada.
                              </div>
                          </li>
                      </ul>
                  </div>
                  <div id="new-stock-output-fields" class="list--output hidden">
                      <h4>Salida</h4>
                      <ul>
                        <li>
                          <label class="common--label" for="new-output-type-list">Tipo salida</label>
                          <input id="new-output-type-list" type="search" list="new-output-list-options" class="common--input" placeholder="Seleccionar..." required>
                          <datalist id="new-output-list-options">
                          </datalist>
                          <div class="invalid-feedback">
                            Por favor seleccione un tipo de salida.
                          </div>
                        </li>
                        <li id="new-stock-output-detail" class="output--details hidden">
                          <label class="common--label" for="new-output-desc">Detalle</label>
                          <textarea class="" id="new-output-desc" rows="4" required></textarea>
                          <div class="invalid-feedback">
                            Por favor ingrese una descipci√≥n.
                          </div>
                        </li>
                      </ul>
                  </div>                
              </ul>
            </div>
          </div>
          <div class="tab-pane fade" id="input-tab-pane" role="tabpanel" aria-labelledby="Input-tab" tabindex="0">
            <div class="record-form--fields">
              <ul>
                  <li>
                      <label class="common--label" for="invoice"># Factura</label>
                      <input class="common--input" id="invoice" type="text">
                  </li>
                  <li>
                      <label class="common--label" for="amount">Valor entrada</label>
                      <input class="common--input" id="amount" type="number">
                  </li>
                  <li>
                      <label class="common--label" for="quantity">Cantidad</label>
                      <input class="common--input" id="quantity" type="number">
                  </li>
                  <li>
                      <label class="common--label" for="final-stock-input">Stock final</label>
                      <input class="common--input" id="final-stock-input" type="number" disabled>
                  </li>
              </ul>
            </div>
          </div>
          <div class="tab-pane fade" id="output-tab-pane" role="tabpanel" aria-labelledby="Output-tab" tabindex="0">
            <div class="record-form--fields">
              <ul>                  
                  <li>
                      <label class="common--label" for="out-quantity">Cantidad</label>
                      <input  class="common--input" id="out-quantity" type="number">
                  </li>                  
                  <li>
                      <label class="common--label"  for="final-stock-out">Stock final</label>
                      <input class="common--input" id="final-stock-out" type="number" disabled>
                  </li>
                  <li>
                    <label class="common--label" for="output-type-list">Tipo salida</label>
                    <input id="output-type-list" type="search" list="output-list-options" class="common--input" placeholder="Seleccionar...">
                    <datalist id="output-list-options">
                    </datalist>
                  </li>
                  <li class="output--details">
                    <label class="common--label" for="output-description">Detalle</label>
                    <textarea class="common--input" id="output-description" rows="4"></textarea>
                  </li>
              </ul>
            </div>
          </div>
        </div>
        <div class="record-form--footer">
          <button id="clear-fields" class="btn btn-secondary btn-lg">Limpiar</button>
          <button id="create-record" type="submit" class="btn btn-success btn-lg">Crear registro</button>
        </div>
      </form>      
    </main>
    <!-- bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
    <script src="/form-js.js"></script>
    <script>
      <?!= include("form-js"); ?>
    </script>
  </body>
</html>
